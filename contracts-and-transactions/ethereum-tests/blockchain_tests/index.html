

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>Blockchain Tests &mdash; 以太坊Homestead文档 0.1 documentation</title>
  

  
  

  

  
  
    

  

  
  
    <link rel="stylesheet" href="../../../_static/css/theme.css" type="text/css" />
  

  

  
        <link rel="author" title="About these documents"
              href="../../../about.html"/>
    <link rel="top" title="以太坊Homestead文档 0.1 documentation" href="../../../index.html"/>
        <link rel="up" title="Ethereum Tests" href="../index.html"/>
        <link rel="next" title="State Tests" href="../state_tests/index.html"/>
        <link rel="prev" title="Using Testeth" href="../using-testeth.html"/> 

  
  <script src="../../../_static/js/modernizr.min.js"></script>

</head>

<body class="wy-body-for-nav" role="document">

  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search">
          

          
            <a href="../../../index.html" class="icon icon-home"> 以太坊Homestead文档
          

          
          </a>

          
            
            
              <div class="version">
                0.1
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
                <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../../../introduction/index.html">引言</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../ethereum-clients/index.html">以太坊客户端</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../connecting-to-clients/index.html">连接到以太坊客户端</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../account-management.html">账户管理</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../ether.html">以太币</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../network/index.html">以太坊网络</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../mining.html">挖矿</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="../../index.html">合约和交易</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="../../account-types-gas-and-transactions.html">账户类型、气和交易</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../contracts.html">合约</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../accessing-contracts-and-transactions.html">访问合约和交易</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../mix.html">Mix</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../developer-tools.html">Dapps</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../developer-tools.html#id3">开发工具</a></li>
<li class="toctree-l2 current"><a class="reference internal" href="../index.html">Ethereum Tests</a><ul class="current">
<li class="toctree-l3"><a class="reference internal" href="../using-testeth.html">Using Testeth</a></li>
<li class="toctree-l3 current"><a class="current reference internal" href="">Blockchain Tests</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#basic-structure">Basic structure</a></li>
<li class="toctree-l4"><a class="reference internal" href="#sections">Sections</a></li>
<li class="toctree-l4"><a class="reference internal" href="#optional-blockheader-sections-information-fields">Optional BlockHeader Sections (Information fields)</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../state_tests/index.html">State Tests</a></li>
<li class="toctree-l3"><a class="reference internal" href="../rlp_tests/index.html">RLP Tests</a></li>
<li class="toctree-l3"><a class="reference internal" href="../difficulty_tests/index.html">Difficulty Tests</a></li>
<li class="toctree-l3"><a class="reference internal" href="../transaction_tests/index.html">Transaction Tests</a></li>
<li class="toctree-l3"><a class="reference internal" href="../vm_tests/index.html">VM Tests</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../web3-base-layer-services.html">Web3基础层服务</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../../frequently-asked-questions/frequently-asked-questions.html">常见问题</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../glossary.html">术语表</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../about.html">Homestead文档计划</a></li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" role="navigation" aria-label="top navigation">
        <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
        <a href="../../../index.html">以太坊Homestead文档</a>
      </nav>


      
      <div class="wy-nav-content">
        <div class="rst-content">
          

 



<div role="navigation" aria-label="breadcrumbs navigation">
  <ul class="wy-breadcrumbs">
    <li><a href="../../../index.html">Docs</a> &raquo;</li>
      
          <li><a href="../../index.html">合约和交易</a> &raquo;</li>
      
          <li><a href="../index.html">Ethereum Tests</a> &raquo;</li>
      
    <li>Blockchain Tests</li>
      <li class="wy-breadcrumbs-aside">
        
          
            <a href="../../../_sources/contracts-and-transactions/ethereum-tests/blockchain_tests/index.txt" rel="nofollow"> View page source</a>
          
        
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="blockchain-tests">
<span id="id1"></span><h1>Blockchain Tests<a class="headerlink" href="#blockchain-tests" title="Permalink to this headline">¶</a></h1>
<p>Found in <code class="docutils literal"><span class="pre">/BlockTests</span></code>, the blockchain tests aim is to test the basic verification of a blockchain.</p>
<p><code class="docutils literal"><span class="pre">/BlockTests</span></code> - general blockchain tests. All blocks are built on network: <strong>Frontier</strong>
<code class="docutils literal"><span class="pre">/BlockTests/Homestead</span></code> - homestead blockchain tests. All blocks are built on network: <strong>Homestead</strong>
<code class="docutils literal"><span class="pre">/BlockTests/TestNetwork</span></code> - transition blockchain tests. All blocks before 5th are built on network: <strong>Frontier</strong>, then each block should correspond to Homestead rules.</p>
<p>It is based around the notion of executing a list of single blocks, described by the <code class="docutils literal"><span class="pre">blocks</span></code> portion of the test. The first block is the modified genesis block as described by the <code class="docutils literal"><span class="pre">genesisBlockHeader</span></code> portion of the test. A set of pre-existing accounts are detailed in the <code class="docutils literal"><span class="pre">pre</span></code> portion and form the world state of the genesis block.</p>
<p>It is generally expected that the test implementer will read <code class="docutils literal"><span class="pre">genesisBlockHeader</span></code> and <code class="docutils literal"><span class="pre">pre</span></code> and build the corresponding blockchain in the client. Then the new blocks, described by its RLP found in the <code class="docutils literal"><span class="pre">rlp</span></code> object of the <code class="docutils literal"><span class="pre">blocks</span></code> (RLP of a complete block, not the block header only), is read. If the client concludes that the block is valid, it should execute the block and verify the parameters given in <code class="docutils literal"><span class="pre">blockHeader</span></code> (block header of the new block), <code class="docutils literal"><span class="pre">transactions</span></code> (transaction list) and <code class="docutils literal"><span class="pre">uncleHeaders</span></code> (list of uncle headers). If the client concludes that the block is invalid, it should verify that no <code class="docutils literal"><span class="pre">blockHeader</span></code>, <code class="docutils literal"><span class="pre">transactions</span></code> or <code class="docutils literal"><span class="pre">uncleHeaders</span></code> object is present in the test. The client is expected to iterate through the list of blocks and ignore invalid blocks.</p>
<div class="section" id="basic-structure">
<h2>Basic structure<a class="headerlink" href="#basic-structure" title="Permalink to this headline">¶</a></h2>
<div class="highlight-python"><div class="highlight"><pre>{
   &quot;ValidBlocks&quot;: {
           &quot;genesisBlockHeader&quot;: { ... },
           &quot;pre&quot;: { ... },
           &quot;blocks&quot; : [
                   {
                           &quot;chainname&quot; : &quot;A&quot;,
                           &quot;blocknumber&quot; : &quot;1&quot;,
                           &quot;rlp&quot;: { ... },
                           &quot;blockHeader&quot;: { ... },
                           &quot;transactions&quot;: { ... },
                           &quot;uncleHeaders&quot;: { ... }
                   },
                   {
                           &quot;chainname&quot; : &quot;A&quot;,
                           &quot;blocknumber&quot; : &quot;2&quot;,
                           &quot;rlp&quot;: { ... },
                           &quot;blockHeader&quot;: { ... },
                           &quot;transactions&quot;: { ... },
                           &quot;uncleHeaders&quot;: { ... }
                   }
           ]
   },
   &quot;SomeInvalidBlocks&quot;: {
           &quot;genesisBlockHeader&quot;: { ... },
           &quot;pre&quot;: { ... },
           &quot;blocks&quot; : [
                   {
                           &quot;chainname&quot; : &quot;B&quot;,
                           &quot;blocknumber&quot; : &quot;3&quot;,
                           &quot;chainnetwork&quot; : &quot;Frontier&quot;,
                           &quot;rlp&quot;: { ... },
                   },
                   {
                           &quot;blocknumber&quot; : &quot;1&quot;,
                           &quot;rlp&quot;: { ... },
                           &quot;blockHeader&quot;: { ... },
                           &quot;transactions&quot;: { ... },
                           &quot;uncleHeaders&quot;: { ... }
                   },
                   {
                           &quot;blocknumber&quot; : &quot;1&quot;,
                           &quot;chainnetwork&quot; : &quot;Homestead&quot;,
                           &quot;rlp&quot;: { ... },
                   },
                   {
                           &quot;blocknumber&quot; : &quot;2&quot;,
                           &quot;rlp&quot;: { ... },
                           &quot;blockHeader&quot;: { ... },
                           &quot;transactions&quot;: { ... },
                           &quot;uncleHeaders&quot;: { ... }
                   }
           ]
   },
   ...
}
</pre></div>
</div>
</div>
<div class="section" id="sections">
<h2>Sections<a class="headerlink" href="#sections" title="Permalink to this headline">¶</a></h2>
<ul class="simple">
<li>The <code class="docutils literal"><span class="pre">genesisBlockHeader</span></code> section</li>
</ul>
<dl class="docutils">
<dt><code class="docutils literal"><span class="pre">coinbase</span></code>:</dt>
<dd>The 160-bit address to which all fees collected from the successful mining of this block be
transferred, as returned by the <strong>COINBASE</strong> instruction.</dd>
<dt><code class="docutils literal"><span class="pre">difficulty</span></code>:</dt>
<dd>A scalar value corresponding to the difficulty level of this block. This can be alculated
from the previous block’s difficulty level and the timestamp, as returned by the <strong>DIFFICULTY</strong> instruction.</dd>
<dt><code class="docutils literal"><span class="pre">gasLimit</span></code>:</dt>
<dd>A scalar value equal to the current limit of gas expenditure per block, as returned by the <strong>GASLIMIT</strong> instruction.</dd>
<dt><code class="docutils literal"><span class="pre">number</span></code>:</dt>
<dd>A scalar value equal to the number of ancestor blocks. The genesis block has a number of zero.</dd>
<dt><code class="docutils literal"><span class="pre">timestamp</span></code>:</dt>
<dd>A scalar value equal to the reasonable output of Unix’s time() at this block’s inception, as returned by the <strong>TIMESTAMP</strong> instruction.</dd>
<dt><code class="docutils literal"><span class="pre">parentHash</span></code>:</dt>
<dd>The Keccak 256-bit hash of the parent block’s header, in its entirety</dd>
<dt><code class="docutils literal"><span class="pre">bloom</span></code>:</dt>
<dd>The Bloom filter composed from indexable information (logger address and log topics)
contained in each log entry from the receipt of each transaction in the transactions list.</dd>
<dt><code class="docutils literal"><span class="pre">extraData</span></code>:</dt>
<dd>An arbitrary byte array containing data relevant to this block. This must be 1024 bytes or fewer.</dd>
<dt><code class="docutils literal"><span class="pre">gasUsed</span></code>:</dt>
<dd>A scalar value equal to the total gas used in transactions in this block.</dd>
<dt><code class="docutils literal"><span class="pre">nonce</span></code>:</dt>
<dd>A 256-bit hash which proves that a sufficient amount of computation has been carried out on this block.</dd>
<dt><code class="docutils literal"><span class="pre">receiptTrie</span></code>:</dt>
<dd>The Keccak 256-bit hash of the root node of the trie structure populated with the receipts of each transaction in the transactions list portion of the block.</dd>
<dt><code class="docutils literal"><span class="pre">stateRoot</span></code>:</dt>
<dd>The Keccak 256-bit hash of the root node of the state trie, after all transactions are executed and finalisations applied.</dd>
<dt><code class="docutils literal"><span class="pre">transactionsTrie</span></code>:</dt>
<dd>The Keccak 256-bit hash of the root node of the trie structure populated with each transaction in the transactions list portion of the block.</dd>
<dt><code class="docutils literal"><span class="pre">uncleHash</span></code>:</dt>
<dd>The Keccak 256-bit hash of the uncles list portion of this block</dd>
</dl>
<ul class="simple">
<li><code class="docutils literal"><span class="pre">pre</span></code> section: as described in State Tests.</li>
<li><code class="docutils literal"><span class="pre">postState</span></code> section: as described in State Tests (section - post).</li>
<li><code class="docutils literal"><span class="pre">blocks</span></code> section is a list of block objects, which have the following format:</li>
<li><code class="docutils literal"><span class="pre">rlp</span></code> section contains the complete rlp of the new block as described in the yellow paper in section 4.3.3.</li>
<li><code class="docutils literal"><span class="pre">blockHeader</span></code> section  describes the block header of the new block in the same format as described in <cite>genesisBlockHeader</cite>.</li>
<li><code class="docutils literal"><span class="pre">transactions</span></code> section is a list of transactions which have the same format as in Transaction Tests.</li>
<li><code class="docutils literal"><span class="pre">uncleHeaders</span></code> section is a list of block headers which have the same format as descibed in <cite>genesisBlockHeader</cite>.</li>
</ul>
</div>
<div class="section" id="optional-blockheader-sections-information-fields">
<h2>Optional BlockHeader Sections (Information fields)<a class="headerlink" href="#optional-blockheader-sections-information-fields" title="Permalink to this headline">¶</a></h2>
<p><code class="docutils literal"><span class="pre">&quot;blocknumber&quot;</span> <span class="pre">=</span> <span class="pre">&quot;int&quot;</span></code> is section which defines what is the order of this block.
It is used to define a situation when you have 3 blocks already imported but then it comes new version of the block 2 and 3 and thus you might have new best blockchain with blocks 1 2&#8217; 3&#8217; instead previous. If <cite>blocknumber</cite> is undefined then it is assumed that blocks are imported one by one. When running test, this field could be used for information purpose only.</p>
<p><code class="docutils literal"><span class="pre">&quot;chainname&quot;</span> <span class="pre">=</span> <span class="pre">&quot;string&quot;</span></code> This is used for defining forks in the same test. You could mine blocks to chain &#8220;A&#8221;: 1, 2, 3 then to chain &#8220;B&#8221;: 1, 2, 3, 4 (chainB becomes primary). Then again to chain &#8220;A&#8221;: 4, 5, 6  (chainA becomes primary) and so on. chainname could also be defined in uncle header section. If defined in uncle header it tells on which chain&#8217;s block uncle header would be populated from. When running test, this field could be used for information purpose only.</p>
<p><code class="docutils literal"><span class="pre">&quot;chainnetwork&quot;</span> <span class="pre">=</span> <span class="pre">&quot;string&quot;</span></code> Defines on which network rules this block was mined. (see the difference <a class="reference external" href="https://github.com/ethereum/EIPs/blob/master/EIPS/eip-2.mediawiki">https://github.com/ethereum/EIPs/blob/master/EIPS/eip-2.mediawiki</a>). When running test, this field could be used for information purpose only.</p>
</div>
</div>


           </div>
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="../state_tests/index.html" class="btn btn-neutral float-right" title="State Tests" accesskey="n">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="../using-testeth.html" class="btn btn-neutral" title="Using Testeth" accesskey="p"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2016, Ethereum community.

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/snide/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  

    <script type="text/javascript">
        var DOCUMENTATION_OPTIONS = {
            URL_ROOT:'../../../',
            VERSION:'0.1',
            COLLAPSE_INDEX:false,
            FILE_SUFFIX:'.html',
            HAS_SOURCE:  true
        };
    </script>
      <script type="text/javascript" src="../../../_static/jquery.js"></script>
      <script type="text/javascript" src="../../../_static/underscore.js"></script>
      <script type="text/javascript" src="../../../_static/doctools.js"></script>
      <script type="text/javascript" src="https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>

  

  
  
    <script type="text/javascript" src="../../../_static/js/theme.js"></script>
  

  
  
  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.StickyNav.enable();
      });
  </script>
   

</body>
</html>